#!/bin/sh
# For license: see LICENSE file at top-level

progname="`basename $0`"

# test left-to-right order
LAUNCHERS="mpiexec mpirun"

launcher=""

for L in $LAUNCHERS
do
    if hash "$L" >/dev/null 2>&1
    then
        launcher="$L"
        break
    fi
done

if [ -z "$launcher" ]
then
    echo "$progname: no launcher found, tried $LAUNCHERS"
    exit 1
fi     

exec $launcher "$@"
